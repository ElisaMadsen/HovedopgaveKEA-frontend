<!DOCTYPE html>
<html lang="en">
<head>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
    <script>
        $(function(){
        $("#header").load("header.html");
        $("#footer").load("footer.html");
        });

    </script>

    <link rel="stylesheet" href="style/main.css">  
    <script src="./Javascript/header.js"></script>
    <script src="./Javascript/fetch.js"></script>
    <script src="./Javascript/post.js"></script> 

    <title>Opgaveforum</title>

</head>
<body style="background-color: #7388A4;">

    <div id="header"></div>

    <div id="show-posts"></div>

    <div id="footer"></div>

    <script>
           // Get user details from URL parameters or local storage
    const urlParams = new URLSearchParams(window.location.search);
    const userIdFromParams = urlParams.get('userId');
    const userName = urlParams.get('name');

    // Assuming user object is available
    const user = JSON.parse(localStorage.getItem('loggedIn'));
    
    // Determine the userId to use
    const userId = userIdFromParams || (user && user.userId);
    
        window.onload = function() {
            getAllPosts();
        };
    </script>
    
</body>
</html>